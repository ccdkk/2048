{"version":3,"sources":["logo.svg","map.js","App.js","reportWebVitals.js","index.js"],"names":["Map","arr","Array","fill","useState","랜덤추가","map","map44","map44변경","randPlus","TouchPosition","setTouchPosition","new_map44","item","zero_list","i","idx","indexOf","push","length","랜덤위치","Math","floor","random","왼쪽","왼쪽정렬","filter","x","concat","rotate","k","rotated_map","origin","z","j","key_move","a","movedMap1","rotatedMap2","JSON","stringify","newMap","move_result","window","onkeydown","e","keyCode","game_over","className","style","marginTop","opacity","fontSize","cursor","onClick","location","reload","con_Gameover","find","game_success","total","score","onTouchStart","changedTouches","pageX","y","pageY","onTouchEnd","distanceX","distanceY","td","num","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.38fe38db.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import './App.css';\r\nimport { useState, useEffect } from 'react';\r\n\r\n\r\nfunction Map() {\r\n\r\n    const arr = new Array(4).fill(0);\r\n    const [map44, map44변경] = useState(랜덤추가(arr.map(() => {\r\n        return new Array(4).fill(0)\r\n    })));\r\n    function randPlus(map44) {\r\n        const ranMap = 랜덤추가(map44);\r\n        return ranMap;\r\n    }\r\n    const [TouchPosition, setTouchPosition] = useState()\r\n\r\n\r\n    function 랜덤추가(map44) {\r\n        const new_map44 = map44.map(item => ([...item]));\r\n        const zero_list = []\r\n        for (let i = 0; i < 4; i++) {\r\n            var idx = new_map44[i].indexOf(0);\r\n            while (idx != -1) {\r\n                zero_list.push([i, idx]);\r\n                idx = new_map44[i].indexOf(0, idx + 1)\r\n            }\r\n        }\r\n\r\n        if (zero_list.length === 0) {\r\n            return new_map44;\r\n        }\r\n        var zero_ran = Math.floor(Math.random() * zero_list.length);\r\n        var 랜덤위치 = zero_list[zero_ran];\r\n        if (Math.random() < 0.8) {\r\n            new_map44[랜덤위치[0]][랜덤위치[1]] = 2;\r\n        } else {\r\n            new_map44[랜덤위치[0]][랜덤위치[1]] = 4;\r\n        }\r\n        return new_map44\r\n    };\r\n\r\n    function 왼쪽(map44) {\r\n        const new_map44 = map44.map(item => ([...item]));\r\n        for (let i = 0; i < 4; i++) {\r\n            if (map44[i][0] === map44[i][1]) {\r\n                new_map44[i][0] = new_map44[i][0] * 2;\r\n                new_map44[i][1] = 0;\r\n                if (map44[i][2] === map44[i][3]) {\r\n                    new_map44[i][2] = new_map44[i][2] * 2;\r\n                    new_map44[i][3] = 0;\r\n                }\r\n            } else if (map44[i][1] === map44[i][2]) {\r\n                new_map44[i][1] = new_map44[i][1] * 2;\r\n                new_map44[i][2] = 0;\r\n            } else if (map44[i][2] === map44[i][3]) {\r\n                new_map44[i][2] = new_map44[i][2] * 2;\r\n                new_map44[i][3] = 0;\r\n            }\r\n        }\r\n        return new_map44;\r\n    }\r\n\r\n    function 왼쪽정렬(map44) {\r\n        const new_map44 = map44.map(item => ([...item]));\r\n        for (let i = 0; i < 4; i++) {\r\n            new_map44[i] = map44[i].filter((x) => x !== 0).concat(map44[i].filter((x) => x === 0));\r\n        }\r\n        return new_map44;\r\n        // map44변경을 했는데 map44가 변하지 않음 \r\n    };\r\n\r\n    // for 문을 이용해서 회전 함수 하나로 합쳐보기 and 왼쪽,아래,위,오른쪽도 하나도 합쳐보자\r\n    function rotate(map44, k) {\r\n        const rotated_map = map44.map(item => ([...item]));\r\n        var origin = map44.map(item => ([...item]));\r\n        for (let z = 0; z < k; z++) {\r\n            for (let i = 0; i < 4; i++) {\r\n                for (let j = 0; j < 4; j++) {\r\n                    rotated_map[j][3 - i] = origin[i][j];\r\n\r\n                }\r\n            }\r\n            origin = rotated_map.map(item => ([...item]));\r\n        }\r\n        return rotated_map;\r\n    }\r\n\r\n    // function 오른쪽90회전(map44) {\r\n\r\n    //     const rotated_map = map44.map(item => ([...item]));\r\n    //     const origin = map44.map(item => ([...item]));\r\n    //     for (let i = 0; i < 4; i++) {\r\n    //         for (let j = 0; j < 4; j++) {\r\n    //             rotated_map[j][3 - i] = origin[i][j];\r\n    //         }\r\n    //     }\r\n    //     return rotated_map;\r\n    // }\r\n\r\n    // function 오른쪽180회전(map44) {\r\n\r\n    //     const rotated_map = map44.map(item => ([...item]));\r\n    //     const origin = map44.map(item => ([...item]));\r\n    //     for (let i = 0; i < 4; i++) {\r\n    //         for (let j = 0; j < 4; j++) {\r\n    //             rotated_map[3 - i][3 - j] = origin[i][j];\r\n    //         }\r\n    //     }\r\n    //     return rotated_map;\r\n    // }\r\n\r\n    // function 오른쪽270회전(map44) {\r\n\r\n    //     const rotated_map = map44.map(item => ([...item]));\r\n    //     const origin = map44.map(item => ([...item]));\r\n    //     for (let i = 0; i < 4; i++) {\r\n    //         for (let j = 0; j < 4; j++) {\r\n    //             rotated_map[3 - j][i] = origin[i][j];\r\n    //         }\r\n    //     }\r\n    //     return rotated_map;\r\n    // }\r\n\r\n    function key_move(map44, a) {\r\n        const rotatedMap = rotate(map44, a);\r\n        const movedMap1 = 왼쪽정렬(rotatedMap);\r\n        const leftMap = 왼쪽(movedMap1);\r\n        const movedMap2 = 왼쪽정렬(leftMap);\r\n        const rotatedMap2 = rotate(movedMap2, 4 - a);\r\n        if (JSON.stringify(rotatedMap2) == JSON.stringify(map44)) {\r\n            map44변경(rotatedMap2);\r\n        } else {\r\n            const newMap = randPlus(rotatedMap2);\r\n            map44변경(newMap);\r\n        };\r\n    }\r\n\r\n    function move_result(map44, a) {\r\n        const rotatedMap = rotate(map44, a);\r\n        const movedMap1 = 왼쪽정렬(rotatedMap);\r\n        const leftMap = 왼쪽(movedMap1);\r\n        const movedMap2 = 왼쪽정렬(leftMap);\r\n        const rotatedMap2 = rotate(movedMap2, 4 - a);\r\n        if (JSON.stringify(rotatedMap2) == JSON.stringify(map44)) {\r\n            return rotatedMap2;\r\n        } else {\r\n            const newMap = randPlus(rotatedMap2);\r\n            return newMap\r\n        };\r\n    }\r\n    // function 왼쪽으로(map44) {\r\n    //     const movedMap1 = 왼쪽정렬(map44);\r\n    //     const leftMap = 왼쪽(movedMap1);\r\n    //     const movedMap2 = 왼쪽정렬(leftMap);\r\n    //     if (JSON.stringify(movedMap2) == JSON.stringify(map44)) {\r\n    //         map44변경(movedMap2);\r\n    //     } else {\r\n    //         const newMap = randPlus(movedMap2);\r\n    //         map44변경(newMap);\r\n    //     };\r\n    // }\r\n\r\n    // function 아래(map44) {\r\n    //     const rotatedMap = rotate(map44, 1);\r\n    //     const movedMap1 = 왼쪽정렬(rotatedMap);\r\n    //     const leftMap = 왼쪽(movedMap1);\r\n    //     const movedMap2 = 왼쪽정렬(leftMap);\r\n    //     const rotatedMap2 = rotate(movedMap2, 3);\r\n    //     if (JSON.stringify(rotatedMap2) == JSON.stringify(map44)) {\r\n    //         map44변경(rotatedMap2);\r\n    //     } else {\r\n    //         const newMap = randPlus(rotatedMap2);\r\n    //         map44변경(newMap);\r\n    //     };\r\n    // }\r\n\r\n    // function 오른쪽(map44) {\r\n    //     const rotatedMap = rotate(map44, 2);\r\n    //     const movedMap1 = 왼쪽정렬(rotatedMap);\r\n    //     const leftMap = 왼쪽(movedMap1);\r\n    //     const movedMap2 = 왼쪽정렬(leftMap);\r\n    //     const rotatedMap2 = rotate(movedMap2, 2);\r\n    //     if (JSON.stringify(rotatedMap2) == JSON.stringify(map44)) {\r\n    //         map44변경(rotatedMap2);\r\n    //     } else {\r\n    //         const newMap = randPlus(rotatedMap2);\r\n    //         map44변경(newMap);\r\n    //     };\r\n    // }\r\n\r\n    // function 위로(map44) {\r\n    //     const rotatedMap = rotate(map44, 3);\r\n    //     const movedMap1 = 왼쪽정렬(rotatedMap);\r\n    //     const leftMap = 왼쪽(movedMap1);\r\n    //     const movedMap2 = 왼쪽정렬(leftMap);\r\n    //     const rotatedMap2 = rotate(movedMap2, 1);\r\n    //     if (JSON.stringify(rotatedMap2) == JSON.stringify(map44)) {\r\n    //         map44변경(rotatedMap2);\r\n    //     } else {\r\n    //         const newMap = randPlus(rotatedMap2);\r\n    //         map44변경(newMap);\r\n    //     };\r\n    // }\r\n\r\n    // 움직일 수 없는 랜덤 생성 안되게\r\n    window.onkeydown = (e) => {\r\n        if (e.keyCode === 37) {\r\n            key_move(map44, 4)\r\n        } else if (e.keyCode === 38) {\r\n            key_move(map44, 3)\r\n        } else if (e.keyCode === 39) {\r\n            key_move(map44, 2)\r\n        } else if (e.keyCode === 40) {\r\n            key_move(map44, 1)\r\n        }\r\n    }\r\n\r\n    function paint() {\r\n        return (\r\n            map44.map((e) => {\r\n                const td = e.map((num) => {\r\n                    return (\r\n                        <td className={'color_' + num}>{num === 0 ? \"\" : num}</td>\r\n                    )\r\n                });\r\n                return (<tr>{td}</tr>)\r\n            })\r\n        )\r\n    }\r\n\r\n    function score() {\r\n        var total = 0;\r\n        for (let i = 0; i < 4; i++) {\r\n            for (let j = 0; j < 4; j++) {\r\n                total += map44[i][j]\r\n            }\r\n        }\r\n        return total;\r\n    }\r\n\r\n    function con_Gameover() {\r\n        const game_over = []\r\n        for (let i = 0; i < 4; i++) {\r\n            if (JSON.stringify(move_result(map44, i)) == JSON.stringify(map44)) {\r\n                game_over.push(0)\r\n            }\r\n        }\r\n        if (JSON.stringify(game_over) == JSON.stringify([0, 0, 0, 0])) {\r\n            return (\r\n                <>\r\n                    <div className=\"game_end\">\r\n                        <div style={{ marginTop: '300px', opacity: '1' }}>\r\n                            <h1 style={{ fontSize: '50px' }}>Game Over</h1>\r\n                            <h1 className=\"restart\" style={{ cursor: 'pointer', fontSize: '30px' }} onClick={() => (window.location.reload())}>New Game</h1>\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            )\r\n        }\r\n    }\r\n\r\n    function game_success() {\r\n        const game_success = []\r\n        for (let i = 0; i < 4; i++) {\r\n            if (map44[i].find(e => e == 2048)) {\r\n                return (\r\n                    <>\r\n                        <div className=\"game_end\">\r\n                            <div style={{ marginTop: '300px', opacity: '1' }}>\r\n                                <h1 className=\"success\">Congratulation !</h1>\r\n                            </div>\r\n                        </div>\r\n                    </>\r\n                )\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    function touchEnd(e) {\r\n        const distanceX = TouchPosition.x - e.changedTouches[0].pageX\r\n        const distanceY = TouchPosition.y - e.changedTouches[0].pageY\r\n        if (distanceX < -30) {\r\n            key_move(map44, 2)\r\n        }\r\n        if (distanceX > 30) {\r\n            key_move(map44, 4)\r\n        }\r\n        if (distanceY > 30) {\r\n            key_move(map44, 3)\r\n        }\r\n        if (distanceY < -30) {\r\n            key_move(map44, 1)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n\r\n            {\r\n                con_Gameover()\r\n            }\r\n            {\r\n                game_success()\r\n            }\r\n            <h1 className=\"score\">Score: {score()}</h1>\r\n            <table onTouchStart={(e) => setTouchPosition({\r\n                x: e.changedTouches[0].pageX,\r\n                y: e.changedTouches[0].pageY\r\n            })} onTouchEnd={touchEnd}>\r\n\r\n                <thead></thead>\r\n                <tbody>\r\n                    {\r\n                        paint()\r\n                    }\r\n                </tbody>\r\n            </table>\r\n        </>\r\n\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default Map;","import logo from './logo.svg';\nimport './App.css';\nimport { useState } from 'react';\nimport Map from './map.js';\n\n\nfunction App() {\n\n\n  return (\n    <div className=\"App\">\n      <Map></Map>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}